// ColorBox v1.3.19.2 - jQuery lightbox plugin
// (c) 2011 Jack Moore - jacklmoore.com
// License: http://www.opensource.org/licenses/mit-license.php
(function(a,b,c,d){function $(c,d,e){var f=b.createElement(c);return d&&(f.id=g+d),e&&(f.style.cssText=e),a(f)}function _(a){var b=z.length,c=(R+a)%b;return c<0?b+c:c}function ab(a,b){return Math.round((/%/.test(a)?(b==="x"?A.width():A.height())/100:1)*parseInt(a,10))}function bb(a){return L.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(a)}function cb(){var b,c=a.data(Q,f);c==null?(L=a.extend({},e),d&&d.log&&d.log("Error: cboxElement missing settings object")):L=a.extend({},c);for(b in L)a.isFunction(L[b])&&b.slice(0,2)!=="on"&&(L[b]=L[b].call(Q));L.rel=L.rel||Q.rel||"nofollow",L.href=L.href||a(Q).attr("href"),L.title=L.title||Q.title,typeof L.href=="string"&&(L.href=a.trim(L.href))}function db(b,c){a.event.trigger(b),c&&c.call(Q)}function eb(){var a,b=g+"Slideshow_",c="click."+g,d,e,f;L.slideshow&&z[1]?(d=function(){G.text(L.slideshowStop).unbind(c).bind(k,function(){if(L.loop||z[R+1])a=setTimeout(X.next,L.slideshowSpeed)}).bind(j,function(){clearTimeout(a)}).one(c+" "+l,e),s.removeClass(b+"off").addClass(b+"on"),a=setTimeout(X.next,L.slideshowSpeed)},e=function(){clearTimeout(a),G.text(L.slideshowStart).unbind([k,j,l,c].join(" ")).one(c,function(){X.next(),d()}),s.removeClass(b+"on").addClass(b+"off")},L.slideshowAuto?d():e()):s.removeClass(b+"off "+b+"on")}function fb(b){V||(Q=b,cb(),z=a(Q),R=0,L.rel!=="nofollow"&&(z=a("."+h).filter(function(){var b=a.data(this,f),c;return b&&b.rel&&(c=b.rel||this.rel),c===L.rel}),R=z.index(Q),R===-1&&(z=z.add(Q),R=z.length-1)),T||(T=U=!0,s.show(),L.returnFocus&&a(Q).blur().one(m,function(){a(this).focus()}),r.css({opacity:+L.opacity,cursor:L.overlayClose?"pointer":"auto"}).show(),L.w=ab(L.initialWidth,"x"),L.h=ab(L.initialHeight,"y"),X.position(),p&&A.bind("resize."+q+" scroll."+q,function(){r.css({width:A.width(),height:A.height(),top:A.scrollTop(),left:A.scrollLeft()})}).trigger("resize."+q),db(i,L.onOpen),K.add(E).hide(),J.html(L.close).show()),X.load(!0))}function gb(){!s&&b.body&&(Z=!1,A=a(c),s=$(Y).attr({id:f,"class":o?g+(p?"IE6":"IE"):""}).hide(),r=$(Y,"Overlay",p?"position:absolute":"").hide(),t=$(Y,"Wrapper"),u=$(Y,"Content").append(B=$(Y,"LoadedContent","width:0; height:0; overflow:hidden"),D=$(Y,"LoadingOverlay").add($(Y,"LoadingGraphic")),E=$(Y,"Title"),F=$(Y,"Current"),H=$(Y,"Next"),I=$(Y,"Previous"),G=$(Y,"Slideshow").bind(i,eb),J=$(Y,"Close")),t.append($(Y).append($(Y,"TopLeft"),v=$(Y,"TopCenter"),$(Y,"TopRight")),$(Y,!1,"clear:left").append(w=$(Y,"MiddleLeft"),u,x=$(Y,"MiddleRight")),$(Y,!1,"clear:left").append($(Y,"BottomLeft"),y=$(Y,"BottomCenter"),$(Y,"BottomRight"))).find("div div").css({"float":"left"}),C=$(Y,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),K=H.add(I).add(F).add(G),a(b.body).append(r,s.append(t,C)))}function hb(){return s?(Z||(Z=!0,M=v.height()+y.height()+u.outerHeight(!0)-u.height(),N=w.width()+x.width()+u.outerWidth(!0)-u.width(),O=B.outerHeight(!0),P=B.outerWidth(!0),s.css({"padding-bottom":M,"padding-right":N}),H.click(function(){X.next()}),I.click(function(){X.prev()}),J.click(function(){X.close()}),r.click(function(){L.overlayClose&&X.close()}),a(b).bind("keydown."+g,function(a){var b=a.keyCode;T&&L.escKey&&b===27&&(a.preventDefault(),X.close()),T&&L.arrowKey&&z[1]&&(b===37?(a.preventDefault(),I.click()):b===39&&(a.preventDefault(),H.click()))}),a("."+h,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),fb(this))})),!0):!1}var e={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},f="colorbox",g="cbox",h=g+"Element",i=g+"_open",j=g+"_load",k=g+"_complete",l=g+"_cleanup",m=g+"_closed",n=g+"_purge",o=!a.support.opacity&&!a.support.style,p=o&&!c.XMLHttpRequest,q=g+"_IE6",r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y="div",Z;if(a.colorbox)return;a(gb),X=a.fn[f]=a[f]=function(b,c){var d=this;b=b||{},gb();if(hb()){if(!d[0]){if(d.selector)return d;d=a("<a/>"),b.open=!0}c&&(b.onComplete=c),d.each(function(){a.data(this,f,a.extend({},a.data(this,f)||e,b))}).addClass(h),(a.isFunction(b.open)&&b.open.call(d)||b.open)&&fb(d[0])}return d},X.position=function(a,b){function i(a){v[0].style.width=y[0].style.width=u[0].style.width=a.style.width,u[0].style.height=w[0].style.height=x[0].style.height=a.style.height}var c=0,d=0,e=s.offset(),f,h;A.unbind("resize."+g),s.css({top:-9e4,left:-9e4}),f=A.scrollTop(),h=A.scrollLeft(),L.fixed&&!p?(e.top-=f,e.left-=h,s.css({position:"fixed"})):(c=f,d=h,s.css({position:"absolute"})),L.right!==!1?d+=Math.max(A.width()-L.w-P-N-ab(L.right,"x"),0):L.left!==!1?d+=ab(L.left,"x"):d+=Math.round(Math.max(A.width()-L.w-P-N,0)/2),L.bottom!==!1?c+=Math.max(A.height()-L.h-O-M-ab(L.bottom,"y"),0):L.top!==!1?c+=ab(L.top,"y"):c+=Math.round(Math.max(A.height()-L.h-O-M,0)/2),s.css({top:e.top,left:e.left}),a=s.width()===L.w+P&&s.height()===L.h+O?0:a||0,t[0].style.width=t[0].style.height="9999px",s.dequeue().animate({width:L.w+P,height:L.h+O,top:c,left:d},{duration:a,complete:function(){i(this),U=!1,t[0].style.width=L.w+P+N+"px",t[0].style.height=L.h+O+M+"px",L.reposition&&setTimeout(function(){A.bind("resize."+g,X.position)},1),b&&b()},step:function(){i(this)}})},X.resize=function(a){T&&(a=a||{},a.width&&(L.w=ab(a.width,"x")-P-N),a.innerWidth&&(L.w=ab(a.innerWidth,"x")),B.css({width:L.w}),a.height&&(L.h=ab(a.height,"y")-O-M),a.innerHeight&&(L.h=ab(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(B.css({height:"auto"}),L.h=B.height()),B.css({height:L.h}),X.position(L.transition==="none"?0:L.speed))},X.prep=function(b){function e(){return L.w=L.w||B.width(),L.w=L.mw&&L.mw<L.w?L.mw:L.w,L.w}function h(){return L.h=L.h||B.height(),L.h=L.mh&&L.mh<L.h?L.mh:L.h,L.h}if(!T)return;var c,d=L.transition==="none"?0:L.speed;B.remove(),B=$(Y,"LoadedContent").append(b),B.hide().appendTo(C.show()).css({width:e(),overflow:L.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(u),C.hide(),a(S).css({"float":"none"}),p&&a("select").not(s.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(l,function(){this.style.visibility="inherit"}),c=function(){function q(){o&&s[0].style.removeAttribute("filter")}var b,c,e=z.length,h,i="frameBorder",j="allowTransparency",l,m,p;if(!T)return;l=function(){clearTimeout(W),D.hide(),db(k,L.onComplete)},o&&S&&B.fadeIn(100),E.html(L.title).add(B).show();if(e>1){typeof L.current=="string"&&F.html(L.current.replace("{current}",R+1).replace("{total}",e)).show(),H[L.loop||R<e-1?"show":"hide"]().html(L.next),I[L.loop||R?"show":"hide"]().html(L.previous),L.slideshow&&G.show();if(L.preloading){b=[_(-1),_(1)];while(c=z[b.pop()])m=a.data(c,f).href||c.href,a.isFunction(m)&&(m=m.call(c)),bb(m)&&(p=new Image,p.src=m)}}else K.hide();L.iframe?(h=$("iframe")[0],i in h&&(h[i]=0),j in h&&(h[j]="true"),h.name=g+ +(new Date),L.fastIframe?l():a(h).one("load",l),h.src=L.href,L.scrolling||(h.scrolling="no"),a(h).addClass(g+"Iframe").appendTo(B).one(n,function(){h.src="//about:blank"})):l(),L.transition==="fade"?s.fadeTo(d,1,q):q()},L.transition==="fade"?s.fadeTo(d,0,function(){X.position(0,c)}):X.position(d,c)},X.load=function(b){var c,d,e=X.prep;U=!0,S=!1,Q=z[R],b||cb(),db(n),db(j,L.onLoad),L.h=L.height?ab(L.height,"y")-O-M:L.innerHeight&&ab(L.innerHeight,"y"),L.w=L.width?ab(L.width,"x")-P-N:L.innerWidth&&ab(L.innerWidth,"x"),L.mw=L.w,L.mh=L.h,L.maxWidth&&(L.mw=ab(L.maxWidth,"x")-P-N,L.mw=L.w&&L.w<L.mw?L.w:L.mw),L.maxHeight&&(L.mh=ab(L.maxHeight,"y")-O-M,L.mh=L.h&&L.h<L.mh?L.h:L.mh),c=L.href,W=setTimeout(function(){D.show()},100),L.inline?($(Y).hide().insertBefore(a(c)[0]).one(n,function(){a(this).replaceWith(B.children())}),e(a(c))):L.iframe?e(" "):L.html?e(L.html):bb(c)?(a(S=new Image).addClass(g+"Photo").error(function(){L.title=!1,e($(Y,"Error").text("This image could not be loaded"))}).load(function(){var a;S.onload=null,L.scalePhotos&&(d=function(){S.height-=S.height*a,S.width-=S.width*a},L.mw&&S.width>L.mw&&(a=(S.width-L.mw)/S.width,d()),L.mh&&S.height>L.mh&&(a=(S.height-L.mh)/S.height,d())),L.h&&(S.style.marginTop=Math.max(L.h-S.height,0)/2+"px"),z[1]&&(L.loop||z[R+1])&&(S.style.cursor="pointer",S.onclick=function(){X.next()}),o&&(S.style.msInterpolationMode="bicubic"),setTimeout(function(){e(S)},1)}),setTimeout(function(){S.src=c},1)):c&&C.load(c,L.data,function(b,c,d){e(c==="error"?$(Y,"Error").text("Request unsuccessful: "+d.statusText):a(this).contents())})},X.next=function(){!U&&z[1]&&(L.loop||z[R+1])&&(R=_(1),X.load())},X.prev=function(){!U&&z[1]&&(L.loop||R)&&(R=_(-1),X.load())},X.close=function(){T&&!V&&(V=!0,T=!1,db(l,L.onCleanup),A.unbind("."+g+" ."+q),r.fadeTo(200,0),s.stop().fadeTo(300,0,function(){s.add(r).css({opacity:1,cursor:"auto"}).hide(),db(n),B.remove(),setTimeout(function(){V=!1,db(m,L.onClosed)},1)}))},X.remove=function(){a([]).add(s).add(r).remove(),s=null,a("."+h).removeData(f).removeClass(h).die()},X.element=function(){return a(Q)},X.settings=e})(jQuery,document,this,console);